<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Classes | _UT by Bell Business Markets</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="assets/css/docs.css" rel="stylesheet">
    <link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">
    <style>
        .navbar-fixed-top .brand {
            color: white;
            float:left;
        }
        table section {
            padding-top:0px;
        }
        section#extend {
            padding-top:0px;
        }
    </style>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
    
  </head>

  <body data-spy="scroll" data-target=".subnav" data-offset="50">


  <!-- Navbar
    ================================================== -->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="./index.html">_UT</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
            
              <li class="dropdown">
                <a href="./index.html" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="./index.html#about">About</a></li>
                  <li><a href="./index.html#">Getting Started</a></li>
                </ul>
              </li>
              
              <li class="">
                <a href="./core.html">Core</a>
              </li>
              
              <li class="dropdown">
                <a href="./classes.html" class="dropdown-toggle" data-toggle="dropdown">Classes <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li><a href="./classes.html">Main</a></li>
                      <li><a href="./classes.html#exception">_UT.Exception</a></li>
                      <li><a href="./classes.html#adapter">_UT.Adapter</a></li>
                      <li><a href="./classes.html#container">_UT.Container</a></li>
                </ul>
              </li>
              
              <li class="dropdown">
                <a href="./classes.html" class="dropdown-toggle" data-toggle="dropdown">Adapters <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li><a href="./adapters.html">Main</a></li>
                      <li><a href="./adapters.html#howto">How to Create an Adapter</a></li>
                      <li><a href="./adapters.html#ga">_UT.gaAdapter</a></li>
                      <li><a href="./adapters.html#omni">_UT.omniAdapter</a></li>
                </ul>
                 </li>

              <li class="">
                <a href="./example.html">Example</a>
              </li>      
              
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">

      <!-- Masthead
      ================================================== -->
      <header class="jumbotron subhead" id="overview">
        <h1>_UT Classes</h1>
        <p class="lead">Overview of Interfaces and Classes available for extending.</p>
        <div class="subnav">
          <ul class="nav nav-pills">
            <li><a href="#exception">Exception</a></li>
            <li><a href="#adapter">Adapter</a></li>
            <li><a href="#container">Container</a></li>
          </ul>
        </div>
      </header>


      <!-- Exception
      ================================================== -->
      <section id="exception">
        <div class="page-header">
          <h1>Exception <small>Object to capture all errors and warnings</small></h1>
        </div>
      <div class="row">
        <div class="span12">
            <p>The Exception Object is a simple object whose sole purpose is to capture errors in try-catch statements. It enables the code to continue running, even after errors were triggered. The objects data can then be analyzed for errors. The object can easily be initialized and attached to the _UT namespace:</p>
            <pre class="prettyprint">            
// creating global exception handler
_UT.exceptionHandler = _UT.exceptionHandler || new _UT.Exception();
            </pre>
            <p>Then in your code simply include the following in your try catch statements:</p>
            <pre class="prettyprint">    
try {
  // Enter your code here
  
} catch (e) {
  _UT.exceptionHandler.push(e);
}
            </pre>
            <div class="alert alert-info"><strong>Note: </strong> Although rudimentary in its current form, the primary purpose of the Exception Object is to eventually be able to automatically send all error data to youir Analytics Solution in order to analyze and debug errors.</div>
        </div>
      </div>
    </section>



      <!-- Adapter
      ================================================== -->
      <section id="adapter">
        <div class="page-header">
          <h1>Adapter <small>The primary interface to be extended for each solution</small></h1>
        </div>
      <div class="row">
        <div class="span12">
            <p>In its current form, the Adapter Interface is useless unless extended to create an Adapter class for a specific solution. Examples of adapter currently include: omniAdapter and gaAdapter</p>
            <p>Please view Section on Creating Adapters for more information</p>
            <p>The adapter class is comprised of 2 public methods which should not be overwritten:</p>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Methods</th>
            <th>Description & Parameters</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td rowspan="2">
                <code>init</code>
            </td>
            <td>
                <p>Constructor method for [solution]Adapter Objects.</p>
                <ol>
                    <li><code>settings</code>: An Object containing Adapter mandatory properties as well as Solution specific properties. The following are mandatory:
                        <ul>
                            <li><code>args</code> Object of properties representing all arguments that will be attached to the <code>data</code> object. Each property is a two item Array where the FIRST item is default value and the SECOND is a list of accepted variable names.</li>
                            <li><code>id</code> [Optional / Mandatory if using Container] Each Adapter instance should have a unique id in the global namespace. This id will also be used to create the instance globally by the Container</li>
                            <li><code>type</code> [Optional / Mandatory if using Container] The type setting alerts the Container as to which type of Adapter instance should be initilized.</li>
                        </ul>
                    
                    </li>
                    <li><code>processor</code> Function of 1 paremeter (args) representing the Business Logic whose purpose is to transform the <code>args</code> received into a <code>data</code> object to be passed along.</li>
                    <li><code>map</code> Function of 1 parameter (data) whose purpose is to format the received data and map it to the specific analytics tool used.</li>
                </ol>
                <br />

                <code> @return {obj} </code> 
            </td>
          </tr> 
          <tr>
              <td>Ex: 
            
                <pre class="prettyprint">            
var _ut_ga = new _UT.gaAdapter(
// Settings {obj}
{
  id: '_ut_ga',
  type: 'ga',
  args: {
        sPN: ["", ["s_pageName", "sPN"]],
        sPath: ["", ["s_path"]]
  },
  /**
  * Solution Specific settings
  */
  prod_account: 'UA-XXXXXXXXX',
  prod_urls: 'bellbusinessmarkets.github.com',
  dev_account: 'UA-YYYYYYYYY',
  dev_urls: 'dev.bellbusinessmarkets.github.com',
},
// Processor {function}
function(args) {
  var data = this.data;
  var settings = this.settings;

  // Some helper variables
  data.sec_1 = "";
  data.sec_2 = "";
  data.sec_3 = "";
  data.page = "";


  //** PAGENAME / HIERARCHY ***

  function s_setPageNameParts(pn) {
   if(pn) {
    var pn_parts = pn.split(":");

    if(pn_parts.length >= 2)     data.sec_1 = pn_parts[0];
    if(pn_parts.length >= 3)    data.sec_2 = pn_parts[1];
    if(pn_parts.length >= 4)    data.sec_3 = pn_parts[2];
    data.page = pn_parts[pn_parts.length-1];
   }
  }
  s_setPageNameParts(args.sPN);
},
// Map {function}
function(data) {
  if(data.is404ServerError) {
   this.setPageName("/404/" + data.sURL );
  }
  this.setPageName("/" + data.page );
}

);
                </pre>
            
            </td>
         </tr>
    
    
          <tr>
            <td rowspan="2">
                <code>fire</code>
            </td>
            <td>
                <p>Method to fire the tracking given the variables</p>
                <ol>
                    <li><code>vars</code>: An Object containing variable names as properties (should be defined in <code>settings.args</code>) and their values. The following properties are reserved key words:
                        <ul>
                            <li><code>__useWindow</code> Boolean to determine if missing vars can be found in the global namespace (aka: <code>window</code>) </li>
                            <li><code>__usePrevious</code> Boolean to determine if previous args object should be reused and extended. If <code>false</code> both the <code>data</code> and <code>args</code> are emptied for a fresh beacon and business logic.</li>
                        </ul>
                    
                    </li>
                </ol>
                <br />
            </td>
          </tr> 
          <tr>
              <td>Ex: 
            
                <pre class="prettyprint">            
s_pageName = "bell:opensource:home";

_ut_ga.fire({
  __usePrevious: false,
  __useWindow: true,
  
  s_path: "/",
  // s_pageName: "bell:opensource:home", //==> not necessary because __useWindow is true

});
                </pre>
            
            </td>
         </tr>     
         
         </tbody>
         </table>
        </div>
      </div>
    </section>
    
      <!-- Container
      ================================================== -->
      <section id="container">
        <div class="page-header">
          <h1>Container <small>Class to simplify mangement of Adapter Instances</small></h1>
        </div>
      <div class="row">
        <div class="span12">
            <p>If multiple adapter instances are required (ex: Omniture and GA), the Container Class can create an object to simplify their management. A Container Object can define multiple adapter instances (any number of combinations of solutions) and call the adapter functions all at once or even individually. </p>
            <p>The following table contains an overview of the available functionnalities</p>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Methods</th>
            <th>Description & Parameters</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td rowspan="2">
                <code>init</code>
            </td>
            <td>
                <p>Constructor method for Container Object. Accepts comma-delimited list of adapter definition objects.</p>
                <ol>
                    <li><code>adapter_def_1</code>: An Object containing 3 properties to define the Adapter Instance:
                        <ul>
                            <li><code>settings</code> View Adapter Constructor parameter <code>settings</code>. Note: MUST include <code>type</code> and <code>id</code>.</li>
                            <li><code>processor</code> View Adapter Constructor parameter <code>processor</code>.</li>
                            <li><code>map</code> View Adapter Constructor parameter <code>map</code>.</li>
                        </ul>
                    </li>
                    <li><code>adapter_def_N</code>: Same object as <code>adapter_def_1</code>. Make sure that the <code>settings.id</code> are unique.
                    </li>
                </ol>
                <br />

                <code> @return {obj} </code> 
            </td>
          </tr> 
          <tr>
              <td>Ex: 
            
                <pre class="prettyprint">            
// using container to create the objects
_ut_container = new _UT.Container(
 {settings: GA_SETTINGS, map: GA_MAP, processor: GA_PROCESSOR}, // where settings.id = '_ut_ga' and settings.type = 'ga'
 {settings: OMNI_SETTINGS, map: OMNI_MAP, processor: OMNI_PROCESSOR} // where settings.id = '_ut_omni' and settings.type = 'omni'
);
                </pre>
            
            </td>
         </tr>


          <tr>
            <td rowspan="2">
                <code>call</code>
            </td>
            <td>
                <p>Method to call adapter instance functions as a whole or specific group.</p>
                <ol>
                     <li><code>method</code>: Name of method to call</li>
                    <li><code>props</code>: Object containing properties to control container. Reserved words are:
                        <ul>
                            <li><code>__include</code> Array of adapter instance ids to include.</li>
                            <li><code>__exclude</code> Array of adapter instance ids to exclude.</li>
                        </ul>
                    </li>
                    <li><code>parameters</code>: Method parameters as defined in the method defintion.
                    </li>
                </ol>
                <br />

            </td>
          </tr> 
          <tr>
              <td>Ex: 
            
                <pre class="prettyprint">            
// using container to fire all adapter instances
_ut_container.call(
 'fire', // adapter method name / fire exists in all adapters
 false,  // do not exclude any adapters
 // fire takes ONE argument, the parameters
 {
   __usePrevious: false,
   __useWindow: true
 }
);

// using container to fire only omni adapter instance
_ut_container.call(
 'startMovie', // adapter method name
 {__include: ['_ut_omni']}, // only include the omniture instance
  // startMovie takes THREE arguments
 mediaName,
 mediaLength,
 mediaPlayerName
);    
                </pre>
            
            </td>
         </tr>
         
         </tbody>
         </table>
        </div>
      </div>
    </section>

 

     <!-- Footer
      ================================================== -->
      <footer class="footer">
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>Built at <a href="http://github.com/BellBusinessMarkets" target="_blank">Bell Business Markets</a> by <a href="hhttps://github.com/ddallala" target="_blank">@ddallala</a>. Maintained by the community via <a href="https://github.com">GitHub</a>.</p>
        <p>Code licensed under the <a href="http://www.gnu.org/licenses/lgpl.txt" target="_blank">LGPLG v3</a>. Documentation of the license found at <a href="http://www.gnu.org/copyleft/lesser.html">GNU Lesser General Public License</a>.</p>
        <p>Icons from <a href="http://glyphicons.com">Glyphicons Free</a>, licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
        <p>Since I did not want to spend too much time on designing, this Documentation is completely "inspired" by <a href="http://twitter.github.com/bootstrap/index.html">Bootstrap by Twitter</a></p>
      </footer>

    </div><!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/google-code-prettify/prettify.js"></script>
    <script src="assets/js/bootstrap-transition.js"></script>
    <script src="assets/js/bootstrap-alert.js"></script>
    <script src="assets/js/bootstrap-modal.js"></script>
    <script src="assets/js/bootstrap-dropdown.js"></script>
    <script src="assets/js/bootstrap-scrollspy.js"></script>
    <script src="assets/js/bootstrap-tab.js"></script>
    <script src="assets/js/bootstrap-tooltip.js"></script>
    <script src="assets/js/bootstrap-popover.js"></script>
    <script src="assets/js/bootstrap-button.js"></script>
    <script src="assets/js/bootstrap-collapse.js"></script>
    <script src="assets/js/bootstrap-carousel.js"></script>
    <script src="assets/js/bootstrap-typeahead.js"></script>
    <script src="assets/js/application.js"></script>
    
    
	<!-- _UT javascript -->
	 <script src="assets/js/UT/UT.js"></script>
	 <script src="assets/js/UT/gaAdapter.js"></script>
	 <script src="assets/js/UT/settings/UT.extensions.js"></script>
	 <script src="assets/js/UT/settings/common.js"></script>
	 <script src="assets/js/UT/settings/gaSettings.js"></script>
	 <script src="assets/js/UT/settings/container.js"></script>
     
     <script type="text/javascript" src="https://getfirebug.com/firebug-lite.js"></script>
     
  </body>
</html>
